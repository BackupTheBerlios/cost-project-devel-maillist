<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [cost-devel] Validation function - clash of trpNum filed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/cost-project-devel/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:cost-project-devel%40lists.berlios.de?Subject=Re%3A%20%5Bcost-devel%5D%20Validation%20function%20-%20clash%20of%20trpNum%20filed&In-Reply-To=%3CA0F8DAFB525DED4ABAF6841BB11C581221D13D%40mail4.marlab.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000085.html">
   <LINK REL="Next"  HREF="000088.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cost-devel] Validation function - clash of trpNum filed</H1>
    <B>Alastair Pout</B> 
    <A HREF="mailto:cost-project-devel%40lists.berlios.de?Subject=Re%3A%20%5Bcost-devel%5D%20Validation%20function%20-%20clash%20of%20trpNum%20filed&In-Reply-To=%3CA0F8DAFB525DED4ABAF6841BB11C581221D13D%40mail4.marlab.ac.uk%3E"
       TITLE="[cost-devel] Validation function - clash of trpNum filed">A.Pout at MARLAB.AC.UK
       </A><BR>
    <I>Thu Dec 13 13:00:28 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000085.html">[cost-devel] Validation function
</A></li>
        <LI>Next message: <A HREF="000088.html">[cost-devel] Validation function - clash of Days at sea and	number of sets fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86">[ date ]</a>
              <a href="thread.html#86">[ thread ]</a>
              <a href="subject.html#86">[ subject ]</a>
              <a href="author.html#86">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">cost-project-devel-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">cost-project-devel-bounces at lists.berlios.de</A>] On Behalf Of
ernesto
Sent: 13 December 2007 11:34
To: <A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">cost-project-devel at lists.berlios.de</A>
Subject: Re: [cost-devel] Validation function

Alastair Pout wrote:
&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">cost-project-devel-bounces at lists.berlios.de</A>
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">cost-project-devel-bounces at lists.berlios.de</A>] On Behalf Of
</I>&gt;<i> ernesto
</I>&gt;<i> Sent: 13 December 2007 10:14
</I>&gt;<i> To: Cost-devel Mailing List
</I>&gt;<i> Subject: [cost-devel] Validation function
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Alastair in his email mentions the &quot;Check.fields&quot; function which looks
</I>
&gt;<i> like doing a very good job. My doubt is about what is being returned
</I>by 
&gt;<i> this method.
</I>&gt;<i>
</I>&gt;<i> Does it correct the fields or provide methods to correct them ? This 
</I>&gt;<i> code checking together with error checking (mis allocations, outliers,
</I>
&gt;<i> etc) should end up by creating VALIDATED objects, so we need to
</I>include 
&gt;<i> that functionality somewhere. My idea is that it should be included in
</I>
&gt;<i> the creator function of the validated datasets csDataVal, ceDataVal
</I>and 
&gt;<i> clDataVal, which for the moment return empty objects. Try csDataVal().
</I>&gt;<i>
</I>&gt;<i> These methods can be moved to COSTEDA.
</I>&gt;<i>
</I>&gt;<i> Best
</I>&gt;<i>
</I>&gt;<i> EJ
</I>&gt;<i>  
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Cost-project-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">Cost-project-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">https://lists.berlios.de/mailman/listinfo/cost-project-devel</A>
</I>&gt;<i>
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> This email has been scanned by the MessageLabs Email Security System.
</I>&gt;<i> For more information please visit <A HREF="http://www.messagelabs.com/email">http://www.messagelabs.com/email</A> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i>
</I>&gt;<i> Hi Ernesto 
</I>&gt;<i>
</I>&gt;<i> At present my check.fileds checks strings against the code list and
</I>&gt;<i> numerics for type and against the ranges specified in FF. 
</I>&gt;<i>
</I>&gt;<i> The output reports unrecognised values for strings and out of range
</I>&gt;<i> values, non integer values and non real values for the numerics. For
</I>&gt;<i> strings it prints out which string values are unrecognised and tells
</I>you
&gt;<i> how many. It also reports complete NA fields. 
</I>&gt;<i>
</I>&gt;<i> I don't correct anything as my understanding was that this was the
</I>users
&gt;<i> responsibility, we just say what is incompatible with the exchange
</I>&gt;<i> format.  
</I>&gt;<i>
</I>&gt;<i> Again my understanding was that my function and Mathieu's error
</I>checking
&gt;<i> function (which does the misallocated values) formed the basis of the
</I>&gt;<i> pre validation checks. 
</I>&gt;<i> To create the validation stage objects we could can incorporate some
</I>&gt;<i> correcting or get these functions to return only validated objects if
</I>&gt;<i> that is the way we want to go. Need to coordinate that of course. 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This is my output for 
</I>&gt;<i> check.fields(solece) 
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> check.fields(solece)
</I>&gt;&gt;<i>     
</I>&gt;<i>         This is a ce Data object
</I>&gt;<i>
</I>&gt;<i>          $vslFlgCtry is OK
</I>&gt;<i>          $year is OK
</I>&gt;<i>          $quarter is OK
</I>&gt;<i>          $month contains non integer values
</I>&gt;<i>          $area contains 112 unrecognised entries of values:
</I>&gt;<i>                  27.7.e 27.7.d 
</I>&gt;<i>          $rect is entirely NA 
</I>&gt;<i>          $foCatNat is entirely NA 
</I>&gt;<i>          $foCatEu5 contains 112 unrecognised entries of values:
</I>&gt;<i>                  GNS_Crustaceans GNS_Demersal_fish GNS_Molluscs
</I>&gt;<i> GTR_Demersal_fish OTB_Crustaceans OTB_Demersal_fish OTB_Molluscs
</I>&gt;<i> OTB_Small_pelagic_fish 
</I>&gt;<i>          $foCatEu6 is entirely NA 
</I>&gt;<i>          $trpNum is OK
</I>&gt;<i>          $foNum is entirely NA
</I>&gt;<i>          $foDur is entirely NA
</I>&gt;<i>          $effKwDays is entirely NA
</I>&gt;<i>          $effGtDays is entirely NA
</I>&gt;<i>          $daysAtSea is entirely NA
</I>&gt;<i>   
</I>&gt;<i>
</I>&gt;<i> All the best
</I>&gt;<i> Alastair
</I>
Hi,

The output looks ok, maybe you should include an option to print it or 
save in a file.

What I remember about our discussion was that the VALIDATED dataset 
could be different from users databases and exchange files, because this

error checking was done inside R. In that case users may want to go back

to their databases or exchange file and fix the errors. But I understood

that we would provide methods for users to correct errors, coding 
problems etc, within R and create the VALIDATED dataset. The alternative

option would be to ask users to fix errors outside R and read the 
dataset a second time, but in that case we don't need to VALIDATED
classes.

I also remember we discussed the possibility of including the reports 
(like yours) on the VALIDATED classes, to keep data and analysis 
together, but did not conclude on anything. Looking at your report I 
think we should include it on the class with a slot called &quot;report&quot; or 
&quot;checkReport&quot;.

Best

EJ


Hi Ernesto
Just noticed that we have 

$trpNum in cs data for the individual national code number for the trip.


and

$trpNum in ce data for the number of trips as a measure of effort

All the best
Alastair













_______________________________________________
Cost-project-devel mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">Cost-project-devel at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/cost-project-devel">https://lists.berlios.de/mailman/listinfo/cost-project-devel</A>

______________________________________________________________________
This email has been scanned by the MessageLabs Email Security System.
For more information please visit <A HREF="http://www.messagelabs.com/email">http://www.messagelabs.com/email</A> 
______________________________________________________________________

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000085.html">[cost-devel] Validation function
</A></li>
	<LI>Next message: <A HREF="000088.html">[cost-devel] Validation function - clash of Days at sea and	number of sets fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86">[ date ]</a>
              <a href="thread.html#86">[ thread ]</a>
              <a href="subject.html#86">[ subject ]</a>
              <a href="author.html#86">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/cost-project-devel">More information about the Cost-project-devel
mailing list</a><br>
</body></html>
